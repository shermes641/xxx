@(form: Form[EditAppMapping], distributorID: Long, appID: Long)(implicit flash: Flash, session: Session)
@main("Modify App Configuration", distributorID) {
    <div id="error-message" class="flash-message error"></div>
    @views.html.Partials.subHeader("settings", distributorID, appID)
    <div class="content settings">
        @helper.form(action = routes.AppsController.update(distributorID, appID)) {
            <h1>App Configuration</h1>
            <button type="submit" name="submit">Save Changes</button>
            @helper.inputText(form("appName"), 'placeholder -> "name", '_label -> "App Name", '_showConstraints -> false)
            <dl class="onoff-field" id="active_field">
                <dt>
                    <label for="active">Active</label>
                </dt>
                <dd>
                    <div class="onoffswitch switch-left">
                        @if(form("active").value.getOrElse(false) == "true") {
                            <input type="checkbox" id="active" name="active" value="true" class="onoffswitch-checkbox" checked="checked">
                        } else {
                            <input type="checkbox" id="active" name="active" value="true" class="onoffswitch-checkbox">
                        }
                        <label class="onoffswitch-label" for="active">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                        <span></span>
                    </div>
                </dd>
            </dl>
            <h1>Reward Handling</h1>
            <dl class="onoff-field" id="serverToServerEnabled_field">
                <dt>
                    <label for="serverToServerEnabled">Server to Server Callbacks Enabled</label>
                </dt>
                <dd>
                    <div class="onoffswitch switch-left">
                        @if(form("serverToServerEnabled").value.getOrElse(false) == "true") {
                            <input type="checkbox" id="serverToServerEnabled" name="serverToServerEnabled" value="true" class="onoffswitch-checkbox" checked="checked">
                        } else {
                            <input type="checkbox" id="serverToServerEnabled" name="serverToServerEnabled" value="true" class="onoffswitch-checkbox">
                        }
                        <label class="onoffswitch-label" for="serverToServerEnabled">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                        <span></span>
                    </div>
                </dd>
            </dl>
            @helper.inputText(form("callbackURL"), 'placeholder -> "", '_label -> "Callback URL", '_showConstraints -> false)

            @views.html.VirtualCurrencies.virtualCurrencyFormFields(form("currencyName"), form("exchangeRate"), form("rewardMin"), form("rewardMax"), Some(form("roundUp")))
            @helper.inputText(form("currencyID"), '_label -> null, 'style -> "display: none", '_showConstraints -> false)
            <button type="submit" name="submit">Save Changes</button>
        }
    </div>
}

<script src="@routes.Assets.at("javascripts/shared/formValidation.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/apps/edit.js")" type="text/javascript"></script>
